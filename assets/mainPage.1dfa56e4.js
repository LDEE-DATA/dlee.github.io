import{e as P,f as v,h as S,u as N,i as V,j as z,k as I,g as M,l as o,o as i,c as h,m as e,n as t,a as s,F as g,p as R,q as k,t as u,r as _,x as F,E as b,y as j,z as q}from"./index.b14b041f.js";const K=s("div",{class:"flex-grow"},null,-1),L={class:"avatar"},G=P({__name:"mainPage",setup(T){let m=v("/"),p=[];const f=v({avatar:""}),C=()=>{_.push("/space")},E=()=>{_.push("/")},w=(l,r)=>{},x=()=>{F("user"),F("token"),_.push("/login"),b.info("\u5DF2\u9000\u51FA\u767B\u5F55\uFF01")};return S(()=>{let l=N().options.routes,r=V();m.value=r.path;for(let a of l)a.name==="mainPage"&&(p=a.children.filter(n=>n.meta.hidden!==!0&&(n.meta.admin==null||n.meta.admin==!0&&z())));I("user")&&(f.value=M("user"))}),(l,r)=>{const a=o("el-menu-item"),n=o("el-avatar"),d=o("el-dropdown-item"),B=o("el-dropdown-menu"),y=o("el-dropdown"),A=o("el-menu"),D=o("router-view");return i(),h(g,null,[e(A,{"default-active":k(m),class:"el-menu-demo",mode:"horizontal",ellipsis:!1,router:!0,onSelect:w},{default:t(()=>[s("div",{class:"logo",onClick:E},"\u6CD5\u5F8B\u6570\u636E\u4E00\u7AD9\u5F0F\u5904\u7406\u5E73\u53F0"),K,(i(!0),h(g,null,R(k(p),c=>(i(),j(a,{index:c.path,key:c.name,class:"menu_item"},{default:t(()=>[u(q(c.meta.title),1)]),_:2},1032,["index"]))),128)),s("div",L,[e(y,null,{dropdown:t(()=>[e(B,null,{default:t(()=>[e(d,{onClick:C},{default:t(()=>[u("\u4E2A\u4EBA\u4E2D\u5FC3")]),_:1}),e(d,{disabled:""},{default:t(()=>[u("\u5BC6\u7801\u4FEE\u6539")]),_:1}),e(d,{divided:"",onClick:x},{default:t(()=>[u("\u6CE8\u9500\u767B\u9646")]),_:1})]),_:1})]),default:t(()=>[e(n,{src:f.value.avatar},null,8,["src"])]),_:1})])]),_:1},8,["default-active"]),s("div",null,[e(D)])],64)}}});export{G as default};
